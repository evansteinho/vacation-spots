{"ast":null,"code":"// This service completely hides the data store from the rest of the app.\n// No other part of the app knows how the data is stored. If anyone wants\n// to read or write data, they have to go through this service.\n\n// For this starter code, we use mock data, that is, data in memory that\n// is pretty arbitrary. The service functions to create and fetch articles\n// will just work on this fake data in memory.\n\n// This intent is for you to fork this starter code and then replace the\n// bodies of the service functions with code that fetches from a *real*\n// database like Firebase Firestore.\nimport { db } from \"../firebaseConfig\";\nimport { collection, query, getDocs, addDoc, orderBy, limit, Timestamp, doc } from \"firebase/firestore\";\nexport async function createArticle(_ref) {\n  let {\n    title,\n    body\n  } = _ref;\n  // As this is just fake data for messing around, we'll throw in a quick\n  // and unreliable database id. In a real app, the id should b\n  const data = {\n    title,\n    body,\n    date: Timestamp.now()\n  };\n  const docRef = addDoc(collection(db, \"articles\"), data);\n  return {\n    id: (await docRef).id,\n    ...data\n  };\n}\nexport async function fetchArticles() {\n  // In storage the ids are separated from the data, but in this function\n  // we are going to combine the id and the data together.\n  const snapshot = await getDocs(query(collection(db, \"spots\"), orderBy(\"date\", \"desc\"), limit(20)));\n  return snapshot.docs.map(docs => ({\n    id: doc.id,\n    ...doc.data()\n  }));\n}","map":{"version":3,"names":["db","collection","query","getDocs","addDoc","orderBy","limit","Timestamp","doc","createArticle","title","body","data","date","now","docRef","id","fetchArticles","snapshot","docs","map"],"sources":["/Users/evansteinhoff/Desktop/webapp/vacation-spots-app/src/services/articleService.js"],"sourcesContent":["// This service completely hides the data store from the rest of the app.\n// No other part of the app knows how the data is stored. If anyone wants\n// to read or write data, they have to go through this service.\n\n// For this starter code, we use mock data, that is, data in memory that\n// is pretty arbitrary. The service functions to create and fetch articles\n// will just work on this fake data in memory.\n\n// This intent is for you to fork this starter code and then replace the\n// bodies of the service functions with code that fetches from a *real*\n// database like Firebase Firestore.\nimport { db } from \"../firebaseConfig\"\nimport { collection, query, getDocs, addDoc, orderBy, limit, Timestamp, doc } from \"firebase/firestore\"\n\nexport async function createArticle({ title, body }) {\n  // As this is just fake data for messing around, we'll throw in a quick\n  // and unreliable database id. In a real app, the id should b\n  const data = {title, body, date: Timestamp.now()}\n  const docRef = addDoc(collection(db, \"articles\"), data)\n  return { id: (await docRef).id, ...data};\n\n}\n\nexport async function fetchArticles() {\n  // In storage the ids are separated from the data, but in this function\n  // we are going to combine the id and the data together.\n  const snapshot = await getDocs(\n    query(collection(db, \"spots\"), orderBy(\"date\", \"desc\"), limit(20))\n  )\n  return snapshot.docs.map((docs) => ({\n    id: doc.id,\n    ...doc.data(),\n  }));\n}\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,mBAAmB;AACtC,SAASC,UAAU,EAAEC,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEC,OAAO,EAAEC,KAAK,EAAEC,SAAS,EAAEC,GAAG,QAAQ,oBAAoB;AAEvG,OAAO,eAAeC,aAAa,OAAkB;EAAA,IAAjB;IAAEC,KAAK;IAAEC;EAAK,CAAC;EACjD;EACA;EACA,MAAMC,IAAI,GAAG;IAACF,KAAK;IAAEC,IAAI;IAAEE,IAAI,EAAEN,SAAS,CAACO,GAAG;EAAE,CAAC;EACjD,MAAMC,MAAM,GAAGX,MAAM,CAACH,UAAU,CAACD,EAAE,EAAE,UAAU,CAAC,EAAEY,IAAI,CAAC;EACvD,OAAO;IAAEI,EAAE,EAAE,CAAC,MAAMD,MAAM,EAAEC,EAAE;IAAE,GAAGJ;EAAI,CAAC;AAE1C;AAEA,OAAO,eAAeK,aAAa,GAAG;EACpC;EACA;EACA,MAAMC,QAAQ,GAAG,MAAMf,OAAO,CAC5BD,KAAK,CAACD,UAAU,CAACD,EAAE,EAAE,OAAO,CAAC,EAAEK,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,EAAEC,KAAK,CAAC,EAAE,CAAC,CAAC,CACnE;EACD,OAAOY,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAED,IAAI,KAAM;IAClCH,EAAE,EAAER,GAAG,CAACQ,EAAE;IACV,GAAGR,GAAG,CAACI,IAAI;EACb,CAAC,CAAC,CAAC;AACL"},"metadata":{},"sourceType":"module"}